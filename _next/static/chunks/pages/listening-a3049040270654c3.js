(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{5007:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/listening",function(){return n(2268)}])},2268:function(e,t,n){"use strict";n.r(t);var s=n(5893),i=n(1163),u=n(7294),r=n(9473),a=n(945),o=n(3315),c=n(6439),l=n(5702),f=n(5016),d=n(5272),m=n(3778),E=n(1002);t.default=()=>{let e=(0,r.I0)();(0,i.useRouter)();let{handleSubmit:t}=(0,o.Z)("listening"),n=(0,u.useRef)(null),_=(0,u.useRef)([]),g=(0,u.useRef)(0),[v,p]=(0,u.useState)(!1),[w,N]=(0,u.useState)([]),[S,x]=(0,u.useState)(void 0),[b,h]=(0,u.useState)(void 0),[I,j]=(0,u.useState)("50");(0,u.useEffect)(()=>{n.current&&(n.current.volume=Number(I)/100)},[n,I]),(0,u.useEffect)(()=>{_.current=w},[w]);let L=()=>{t(_.current,g.current,"listening","reading")},T=()=>(0,s.jsx)(E.Z,{isListening:!0,typePart:"listening",examTime:d.a.LISTENING,onSubmitExam:L,setVolume:j});return(0,u.useEffect)(()=>(e((0,a._G)(T())),()=>{e((0,a._G)(void 0))}),[]),(0,u.useEffect)(()=>{let e=async()=>{p(!0);let e=await (0,f.K)("listening","");if(e){let t=(0,l.A4)(e);N(t.dataContent),x(t.listTypeQuestion),h(e.resourceId),sessionStorage.setItem("EXAM_ID",String(e.id)),g.current=e.submitId}p(!1)};e()},[]),(0,u.useEffect)(()=>{let e=e=>(e.preventDefault(),e.returnValue="","");return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{loading:v}),(0,s.jsx)("div",{className:"page-container",children:(0,s.jsx)(c.Z,{isListening:!0,listTypeQuestion:S,listQuestion:w,setListQuestion:N})}),b&&(0,s.jsx)("audio",{ref:n,autoPlay:!0,muted:!1,src:"".concat("https://server.ieltsmastersource.com","/api/v1/test/").concat(b,"/audio")})]})}}},function(e){e.O(0,[121,787,790,774,888,179],function(){return e(e.s=5007)}),_N_E=e.O()}]);