(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(8440)}])},7155:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(5121);let s=n.Z.create({baseURL:"https://test.tuanm.dev",headers:{"Content-Type":"application/json"},timeout:3e4});s.interceptors.request.use(e=>{if(!e.headers.Authorization){let t=localStorage.getItem("TOKEN");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e));var a=s},5211:function(e,t,r){"use strict";var n=r(5893);r(9096),t.Z=e=>{let{type:t="submit",text:r,icon:s,style:a}=e;return(0,n.jsxs)("button",{className:"button form__submit",type:t,style:a,children:[(0,n.jsx)("span",{className:"button__text",children:r}),s]})}},3778:function(e,t,r){"use strict";var n=r(5893);r(1051),t.Z=e=>{let{loading:t}=e;return(0,n.jsx)("div",{id:"loading",className:t?"":"hide",children:(0,n.jsxs)("div",{id:"loadingInnerWrapper",children:[(0,n.jsx)("span",{id:"load1",children:"."}),(0,n.jsx)("span",{id:"load2",children:"."}),(0,n.jsx)("span",{id:"load3",children:"."})]})})}},9069:function(e,t,r){"use strict";var n=r(5893),s=r(2175);t.Z=e=>{let{label:t,...r}=e,[a,i]=(0,s.U$)(r);return(0,n.jsxs)("div",{style:{width:"100%"},children:[(0,n.jsx)("label",{htmlFor:a.name,className:"mb-2",children:t}),(0,n.jsx)("input",{className:"form__input ".concat(i.touched&&i.error&&"is-invalid"),...a,...r,autoComplete:"off"}),(0,n.jsx)(s.Bc,{component:"div",name:a.name,className:"error"})]})}},6586:function(e,t,r){"use strict";var n=r(7294),s=r(2920);t.Z=()=>{let e=(0,n.useCallback)((e,t)=>{(0,s.Am)(t,{hideProgressBar:!0,autoClose:2e3,type:e})},[]);return{notify:e}}},8440:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n=r(5893),s=r(7294),a=r(9332),i=r(9473),l=r(6586),o=r(7999),c=r(2808),u=r(6942),d=r(3778),m=r(2175),p=r(6310),h=r(5697),_=r.n(h),f=["color","size","title"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=(0,s.forwardRef)(function(e,t){var r=e.color,n=e.size,a=e.title,i=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,f);return s.createElement("svg",x({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:r},i),a?s.createElement("title",null,a):null,s.createElement("path",{d:"M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"}),s.createElement("path",{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686Z"}))});v.propTypes={color:_().string,size:_().oneOfType([_().string,_().number]),title:_().string},v.defaultProps={color:"currentColor",size:"1em",title:null};var j=r(1534),g=r(1374),w=r(5954);r(5930);var b=r(9069),y=r(5211),N=e=>{let{onClickLogin:t}=e,r=p.Ry({email:p.Z_().matches(w.E,"Email is invalid").required("Email is required"),password:p.Z_().min(8,"Password must be at least 8 characters").required("Password is required")});return(0,n.jsx)(m.J9,{initialValues:{email:"",password:""},validationSchema:r,onSubmit:e=>t(e),children:()=>(0,n.jsx)("div",{className:"d-flex justify-content-center",style:{width:"100vw"},children:(0,n.jsxs)("div",{className:"form-container login-form",children:[(0,n.jsx)("div",{className:"form__content",children:(0,n.jsx)(m.l0,{children:(0,n.jsxs)("div",{className:"login",children:[(0,n.jsxs)("div",{className:"form__field",children:[(0,n.jsx)(v,{}),(0,n.jsx)(b.Z,{name:"email",type:"text",placeholder:"Email"})]}),(0,n.jsxs)("div",{className:"form__field",children:[(0,n.jsx)(j.Z,{}),(0,n.jsx)(b.Z,{name:"password",type:"password",placeholder:"Password"})]}),(0,n.jsx)(y.Z,{icon:(0,n.jsx)(g.Z,{}),text:"Log In Now",style:{width:"100%",marginTop:"60px"}})]})})}),(0,n.jsxs)("div",{className:"screen__background",children:[(0,n.jsx)("span",{className:"screen__background__shape screen__background__shape4"}),(0,n.jsx)("span",{className:"screen__background__shape screen__background__shape3"}),(0,n.jsx)("span",{className:"screen__background__shape screen__background__shape2"}),(0,n.jsx)("span",{className:"screen__background__shape screen__background__shape1"})]})]})})})},Z=()=>{let e=(0,a.useRouter)(),t=(0,i.I0)(),{notify:r}=(0,l.Z)(),[m,p]=(0,s.useState)(!1),h=async n=>{p(!0);let s=await (0,u.lx)(n);s.code===c.iH?(t((0,o.sK)(s.data)),localStorage.setItem("TOKEN",s.data.token),localStorage.setItem("USER",JSON.stringify(s.data.user)),t((0,o.PR)(Date.now())),e.push("/list-exam")):r("error","Email or Password incorrect!"),p(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{loading:m}),(0,n.jsx)(N,{onClickLogin:h})]})}},6942:function(e,t,r){"use strict";r.d(t,{Z3:function(){return i},lx:function(){return a},qL:function(){return s}});var n=r(7155);let s=async e=>{try{let t=await n.Z.post("api/v2/users/register",{...e});return t.data}catch(e){return console.log(e),!1}},a=async e=>{try{let t=await n.Z.post("/api/v2/users/authenticate",{...e});return t.data}catch(e){return console.log(e),!1}},i=async e=>{try{let t=await n.Z.post("/api/v2/users/verify-email",{...e});return t.data}catch(e){return!1}}},9096:function(){},1051:function(){},5930:function(){}},function(e){e.O(0,[121,718,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);