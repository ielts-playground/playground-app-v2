(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{8370:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reading",function(){return n(3389)}])},3389:function(e,t,n){"use strict";n.r(t);var s=n(5893),r=n(7294),u=n(9473),a=n(945),i=n(5016),o=n(5702),c=n(5272),d=n(2808),f=n(3778),l=n(1002),E=n(2314);t.default=()=>{let e=(0,u.I0)(),t=(0,r.useRef)([]),n=(0,r.useRef)(0),[_,N]=(0,r.useState)(!1),[v,w]=(0,r.useState)([]),[g,m]=(0,r.useState)(void 0),[I,S]=(0,r.useState)();(0,r.useEffect)(()=>{t.current=v},[v]);let b=()=>{var s;let r={};null===(s=t.current)||void 0===s||s.forEach(e=>{e.type===d.Nb.CHOOSE_TWO_ANSWER_LISTENING?r["".concat(e.subId,"-").concat(e.subId+1)]=JSON.stringify(e.value):r["".concat(e.id)]=e.value}),(0,i.j)(n.current,{answers:r,examTestId:0}),e((0,a.vO)({currentPart:"reading",nextPart:"writing"}))},p=()=>(0,s.jsx)(l.Z,{typePart:"reading",examTime:c.a.LISTENING,onSubmitExam:b});return(0,r.useEffect)(()=>(e((0,a._G)(p())),()=>{e((0,a._G)(void 0))}),[e]),(0,r.useEffect)(()=>{let e=async()=>{N(!0);let e=sessionStorage.getItem("EXAM_ID"),t=await (0,i.K)("reading",Number(e));if(t){let e=(0,o.A4)(t);w(e.dataContent),m(e.listTypeQuestion),S(e.contentLeft),n.current=t.submitId}N(!1)};e()},[]),(0,r.useEffect)(()=>{let e=e=>(e.preventDefault(),e.returnValue="","");return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{loading:_}),(0,s.jsx)("div",{className:"page-container",children:(0,s.jsx)(E.Z,{isReading:!0,listTypeQuestion:g,contentLeft:I,listQuestion:v,setListQuestion:w})})]})}}},function(e){e.O(0,[121,675,787,267,774,888,179],function(){return e(e.s=8370)}),_N_E=e.O()}]);