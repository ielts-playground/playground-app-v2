(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(2403)}])},7155:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(5121);let s=a.Z.create({baseURL:"https://test.tuanm.dev",headers:{"Content-Type":"application/json"},timeout:3e4});s.interceptors.request.use(e=>{if(!e.headers.Authorization){let t=localStorage.getItem("TOKEN");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e));var n=s},3778:function(e,t,r){"use strict";var a=r(5893);r(1051),t.Z=e=>{let{loading:t}=e;return(0,a.jsx)("div",{id:"loading",className:t?"":"hide",children:(0,a.jsxs)("div",{id:"loadingInnerWrapper",children:[(0,a.jsx)("span",{id:"load1",children:"."}),(0,a.jsx)("span",{id:"load2",children:"."}),(0,a.jsx)("span",{id:"load3",children:"."})]})})}},9069:function(e,t,r){"use strict";var a=r(5893),s=r(2175);t.Z=e=>{let{label:t,...r}=e,[n,i]=(0,s.U$)(r);return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:n.name,className:"mb-2 color-text-secondary",children:t}),(0,a.jsx)("input",{className:"form-control shadow-none ".concat(i.touched&&i.error&&"is-invalid"),...n,...r,autoComplete:"off"}),(0,a.jsx)(s.Bc,{component:"div",name:n.name,className:"error"})]})}},6586:function(e,t,r){"use strict";var a=r(7294),s=r(2920);t.Z=()=>{let e=(0,a.useCallback)((e,t)=>{(0,s.Am)(t,{hideProgressBar:!0,autoClose:2e3,type:e})},[]);return{notify:e}}},2403:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(5893),s=r(7294),n=r(9332),i=r(9473),o=r(6586),c=r(7999),l=r(2808),d=r(6942),u=r(3778),h=r(1664),m=r.n(h),p=r(2175),x=r(6310),f=r(5954);r(5930);var j=r(9069),v=r(9138),w=e=>{let{onClickLogin:t}=e,r=x.Ry({email:x.Z_().matches(f.E,"Email is invalid").required("Email is required"),password:x.Z_().min(8,"Password must be at least 8 characters").required("Password is required")});return(0,a.jsx)(p.J9,{initialValues:{email:"",password:""},validationSchema:r,onSubmit:e=>t(e),children:()=>(0,a.jsx)("div",{className:"container-login",children:(0,a.jsxs)("div",{className:"form-title",children:[(0,a.jsx)("h2",{className:"color-text-secondary",children:"Login"}),(0,a.jsxs)(p.l0,{children:[(0,a.jsx)(j.Z,{name:"email",type:"text",placeholder:"Email"}),(0,a.jsx)(j.Z,{name:"password",type:"password",placeholder:"Password"}),(0,a.jsx)("div",{className:"my-4",children:(0,a.jsx)(v.Z,{className:"mt-4",text:"Login",type:"submit",style:{fontSize:"18px",width:"100%"}})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(m(),{href:"/register",children:"Do not have an account?"})}),(0,a.jsx)(m(),{href:"/register",children:"Forgot password"})]})})})},g=()=>{let e=(0,n.useRouter)(),t=(0,i.I0)(),{notify:r}=(0,o.Z)(),[h,m]=(0,s.useState)(!1),p=async a=>{m(!0);let s=await (0,d.lx)(a);s.code===l.iH?(t((0,c.sK)(s.data)),localStorage.setItem("TOKEN",s.data.token),localStorage.setItem("USER",JSON.stringify(s.data.user)),t((0,c.PR)(Date.now())),e.push("/home")):r("error","Email or Password incorrect!"),m(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{loading:h}),(0,a.jsx)(w,{onClickLogin:p})]})}},6942:function(e,t,r){"use strict";r.d(t,{Z3:function(){return i},lx:function(){return n},qL:function(){return s}});var a=r(7155);let s=async e=>{try{let t=await a.Z.post("api/v2/users/register",{...e});return t.data}catch(e){return console.log(e),!1}},n=async e=>{try{let t=await a.Z.post("/api/v2/users/authenticate",{...e});return t.data}catch(e){return console.log(e),!1}},i=async e=>{try{let t=await a.Z.post("/api/v2/users/verify-email",{...e});return t.data}catch(e){return!1}}},1051:function(){},5930:function(){}},function(e){e.O(0,[121,664,743,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);