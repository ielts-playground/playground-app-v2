(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{4902:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/writing",function(){return n(2890)}])},2890:function(e,t,n){"use strict";n.r(t);var i=n(5893),r=n(7294),s=n(9473),u=n(945),a=n(2314),o=n(5702),c=n(3778),f=n(1002),l=n(5272),d=n(5016);t.default=()=>{let e=(0,s.I0)(),t=(0,r.useRef)([]),n=(0,r.useRef)(0),[w,_]=(0,r.useState)(!1),[E,v]=(0,r.useState)([]),[m,g]=(0,r.useState)(void 0),[p,x]=(0,r.useState)();(0,r.useEffect)(()=>{t.current=E},[E]);let N=()=>{var i;let r={};null===(i=t.current)||void 0===i||i.forEach(e=>{r["".concat(e.id)]=e.value}),(0,d.j)(n.current,{answers:r,examTestId:0}),e((0,u.vO)({currentPart:"writing"}))},b=()=>(0,i.jsx)(f.Z,{typePart:"writing",examTime:l.a.WRITING,onSubmitExam:N});return(0,r.useEffect)(()=>(e((0,u._G)(b())),()=>{e((0,u._G)(void 0))}),[]),(0,r.useEffect)(()=>{let e=async()=>{_(!0);let e=sessionStorage.getItem("EXAM_ID"),t=await (0,d.K)("writing",Number(e));if(t){let e=(0,o.A4)(t,!0);v(e.dataContent),g(e.listTypeQuestion),x(e.contentLeft),n.current=t.submitId}_(!1)};e()},[]),(0,r.useEffect)(()=>{let e=e=>(e.preventDefault(),e.returnValue="","");return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{loading:w}),(0,i.jsx)("div",{className:"page-container",children:(0,i.jsx)(a.Z,{isWriting:!0,listTypeQuestion:m,contentLeft:p,listQuestion:E,setListQuestion:v})})]})}}},function(e){e.O(0,[121,675,787,267,774,888,179],function(){return e(e.s=4902)}),_N_E=e.O()}]);